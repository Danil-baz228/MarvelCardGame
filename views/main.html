<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>Great Battle</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
<header class="site-header">
  <div class="container">
    <h1>üÉè Great Battle</h1>
    <div id="auth-bar">

    </div>
  </div>
</header>

<main class="main-content">
  <section class="welcome-box">
    <h2>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ Marvel Card Game</h2>
    <p>–ë–∏—Ç–≤–∏ –≥–µ—Ä–æ—ó–≤ —ñ –ª–∏—Ö–æ–¥—ñ—ó–≤ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ —Ç—É—Ç!</p>

    <div id="action-section"></div>
  </section>
</main>

<script>
  const authBar = document.getElementById('auth-bar');
  const actionSection = document.getElementById('action-section');

  if (window.user) {
    const avatar = window.user.avatar_url
            ? `<img src="${window.user.avatar_url}" alt="avatar" style="width:32px; height:32px; border-radius:50%; margin-right:8px;">`
            : '';

    authBar.innerHTML = `
      ${avatar}
      <span>–ü—Ä–∏–≤—ñ—Ç, <strong>${window.user.username}</strong></span>
      <a href="/profile" class="button">–ü—Ä–æ—Ñ—ñ–ª—å</a>
      <a href="/auth/logout" class="button">–í–∏–π—Ç–∏</a>
    `;

    actionSection.innerHTML = `
      <a href="/play" class="button">üéÆ –ì—Ä–∞—Ç–∏</a>
    `;
  } else {
    authBar.innerHTML = `
      <a href="/auth/login" class="button">–£–≤—ñ–π—Ç–∏</a>
      <a href="/auth/register" class="button">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</a>
    `;

    actionSection.innerHTML = `
      <p><strong>–£–≤—ñ–π–¥—ñ—Ç—å –¥–æ –∞–∫–∞—É–Ω—Ç—É</strong>, —â–æ–± –ø–æ—á–∞—Ç–∏ –≥—Ä—É!</p>
    `;
  }
</script>
</body>
</html>
